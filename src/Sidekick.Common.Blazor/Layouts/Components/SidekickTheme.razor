@using Sidekick.Common.Settings

<MudThemeProvider Theme="Theme" />

@code {
    [Inject] private ISettings Settings { get; set; }

    private MudTheme Theme { get; set; }

    protected override void OnInitialized()
    {
        base.OnInitialized();

        Theme = new MudTheme()
            {
                Palette = GetPaletteDark(),
                PaletteDark = GetPaletteDark(),

                LayoutProperties = new LayoutProperties()
                {
                    AppbarHeight = "32px",
                },

                Typography = new Typography()
                {
                    H1 = CreateTypography<H1>("1.5rem"),
                    H2 = CreateTypography<H2>("1.375rem"),
                    H3 = CreateTypography<H3>("1.25rem"),
                    H4 = CreateTypography<H4>("1.125rem"),
                    H5 = CreateTypography<H5>("1rem"),
                    H6 = CreateTypography<H6>("0.875rem"),
                    Subtitle1 = CreateTypography<Subtitle1>("1.25rem"),
                    Subtitle2 = CreateTypography<Subtitle2>("1.125rem"),
                    Body1 = CreateTypography<Body1>("0.875rem"),
                    Body2 = CreateTypography<Body2>("0.875rem"),
                    Button = CreateTypography<Button>("1rem"),
                    Caption = CreateTypography<Caption>("0.75rem"),
                    Overline = CreateTypography<Overline>("0.875rem"),
                    Default = CreateTypography<Default>("0.875rem"),
                },
            };
    }

    private T CreateTypography<T>(string fontSize)
        where T : BaseTypography, new()
    {
        var typo = new T();
        if (typo is BaseTypography baseTypo)
        {
            baseTypo.FontFamily = new[] { "fontin", "system-ui", "-apple-system", "Arial", "sans-serif" };
            baseTypo.FontSize = fontSize;
            baseTypo.FontWeight = 400;
            baseTypo.LetterSpacing = "none";
            baseTypo.LineHeight = 1.2;
        }
        return typo;
    }

    private PaletteDark GetPaletteDark() => new PaletteDark()
        {
            Black = "#000000",
            Background = "#1C1C1C",
            BackgroundGrey = "#161616",
            Surface = "#292929",
            Divider = "#757575",
            DividerLight = "#E0E0E0",

            DrawerBackground = "#000000",
            DrawerText = "rgba(255,255,255, 0.90)",
            DrawerIcon = "rgba(255,255,255, 0.90)",

            AppbarBackground = "#000000",
            AppbarText = "rgba(255,255,255, 0.90)",

            TextPrimary = "rgba(255,255,255, 0.80)",
            TextSecondary = "rgba(255,255,255, 0.70)",
            TextDisabled = "rgba(255,255,255, 0.40)",

            ActionDefault = "#00ACC1",
            ActionDisabled = "rgba(255,255,255, 0.30)",
            ActionDisabledBackground = "rgba(255,255,255, 0.15)",

            Primary = "#8888FF",
            PrimaryContrastText = "rgba(255,255,255, 0.90)",
            PrimaryLighten = "#5C6BC0",
            PrimaryDarken = "#3949AB",

            Info = "#00BCD4",
            InfoContrastText = "rgba(255,255,255, 0.90)",
            InfoLighten = "#26C6DA",
            InfoDarken = "#00ACC1",
        };
}
