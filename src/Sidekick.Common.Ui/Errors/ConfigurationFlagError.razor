
@if (Configuration.Value.IsXselPackageMissing)
{
    <AlertError>@Resources["XselPackageMissing"]</AlertError>
}

@inject IStringLocalizer<UiResources> Resources
@inject IOptions<SidekickConfiguration> Configuration
@using Microsoft.Extensions.Options
@using Sidekick.Common.Ui.Localization
@implements IDisposable

@code {

    protected override void OnInitialized()
    {
        Configuration.Value.FlagChanged += SidekickConfigurationOnFlagChanged;
        base.OnInitialized();
    }

    private void SidekickConfigurationOnFlagChanged()
    {
        InvokeAsync(StateHasChanged);
    }

    public void Dispose()
    {
        Configuration.Value.FlagChanged -= SidekickConfigurationOnFlagChanged;
    }

}
